/*!
 * Bootstrap Package v9.1.0 (http://www.bk2k.info)
 * Copyright 2014-2018 Benjamin Kott
 * Licensed under the MIT license
 */
"use strict";!function(){function e(e){var t=e.getSelection(),n=t&&t.getRanges()[0];if(n){for(var o,a,l,s,i=t.createBookmarks(!1)[0],u=i.startNode,g=i.endNode||u,d=n.createIterator(),c=e.editable(),f=null,m=[];f=d.getNextParagraph();)m.push(f);e.getCommand("bootstrappackage_box").state==CKEDITOR.TRISTATE_OFF?(o=e,l=function(e,t){var r=null,n=null,o=[];for(;t.length>0;){for(n=t.shift();!n.getParent().equals(e);)n=n.getParent();n.equals(r)||(o.push(n),r=n)}return o}(function(e){for(var t=e[0].getParent(),r=null,n=0;n<e.length;n++)r=e[n],t=t.getCommonAncestor(r.getParent());var o={table:1,tbody:1,tr:1,ol:1,ul:1};for(;o[t.getName()];)t=t.getParent();return t}(a=m),a),s=function(e,t){var r=null,n=[];for(;t.length>0;)if("div"==(r=t.shift()).getName()){for(var o=new CKEDITOR.dom.documentFragment(e.document);r.getFirst();)o.append(r.getFirst().remove()),n.push(o.getLast());o.replace(r)}else n.push(r);return n}(o,l),function(e,t){var r=e.document.createElement("div"),n=null;for(r.addClass("well"),r.insertBefore(t[0]);t.length>0;)n=t.shift(),r.append(n)}(o,s)):function(e){for(var t=null,n=e.length-1;n>=0;n--)r(t=e[n])&&t.remove()}(function(e){for(var t={},n=[],o=[],a=null,l=null,s=0;s<e.length;s++){var l=null,i=null;if("div"==(a=e[s]).getName()&&r(a))n.push(a);else{for(;a.getParent();){if("div"==a.getParent().getName()){l=a.getParent(),i=a;break}a=a.getParent()}l&&i&&!i.getCustomData("move")&&(o.push(i),CKEDITOR.dom.element.setMarker(t,i,"move",!0))}}for(CKEDITOR.dom.element.clearAllMarkers(t);o.length>0;)a=o.shift(),l=a.getParent(),a.getPrevious()?a.getNext()?(a.breakParent(a.getParent()),n.push(a.getNext())):a.remove().insertAfter(l):a.remove().insertBefore(l),l.getCustomData("processed")||(n.push(l),CKEDITOR.dom.element.setMarker(t,l,"processed",!0));return CKEDITOR.dom.element.clearAllMarkers(t),n}(m)),c.contains(u)&&c.contains(g)&&t.selectBookmarks([i]),e.focus()}}function t(e,t){var r=t.block||t.blockLimit;this.setState(e.elementPath(r).contains("div",1)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)}function r(e){for(var t,r=0,n=e.getChildCount();r<n&&(t=e.getChild(r));r++)if(t.type==CKEDITOR.NODE_ELEMENT&&t.isBlockBoundary())return!1;return!0}CKEDITOR.plugins.add("bootstrappackage_box",{lang:"en,de",icons:"box",hidpi:!0,init:function(r){r.blockless||(r.addCommand("bootstrappackage_box",{exec:e,refresh:t,context:"div",allowedContent:"div",requiredContent:"div"}),r.ui.addButton&&r.ui.addButton("Box",{label:r.lang.bootstrappackage_box.toolbar,command:"bootstrappackage_box",toolbar:"blocks"}))}})}();